(window.webpackJsonp=window.webpackJsonp||[]).push([[516],{929:function(s,t,a){"use strict";a.r(t);var n=a(46),e=Object(n.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h2",{attrs:{id:"概要"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#概要"}},[s._v("#")]),s._v(" 概要")]),s._v(" "),a("p",[s._v("一种交易定价机制，其中包括每个区块网络费用的固定部分，同时还有动态的可伸缩区块大小设计，以应付短暂的网络拥堵。")]),s._v(" "),a("h2",{attrs:{id:"摘要"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#摘要"}},[s._v("#")]),s._v(" 摘要")]),s._v(" "),a("p",[s._v("我们引入一种新的"),a("RouterLink",{attrs:{to:"/zh/eip-2718.html"}},[s._v("EIP-2718")]),s._v(" 交易类型，格式为"),a("code",[s._v("0x02 || rlp([chain_id, nonce, max_priority_fee_per_gas, max_fee_per_gas, gas_limit, destination, amount, data, access_list, signature_y_parity, signature_r, signature_s])")]),s._v(".")],1),s._v(" "),a("p",[s._v("协议中规定了gas的基础费用，通过一个公式调整每个区块基础费用的上升或下降，该公式根据上一个区块的gas消耗和gas目标值 (gas上限 / Elasticity_MULTIPLIER) 进行计算。 当区块超过gas目标值，算法就会导致gas的基础费用增加。反之，基础费用就减少。 每个gas的基础费用被销毁。 交易指定了用户愿意向矿工支付的每个gas的最高费用，以鼓励矿工打包他们的交易 (又称：小费) 交易还规定了用户愿意支付的每个gas的最高费用 (又称：最高费用)，它包含小费和区块的每个gas网络费用 (又称：基础费用)。 交易总是会支付打包区块的基础费用，也会支付小费，只要两者之和不超过最高费用。")]),s._v(" "),a("h2",{attrs:{id:"动机"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#动机"}},[s._v("#")]),s._v(" 动机")]),s._v(" "),a("p",[s._v('以往的以太坊定价机制是采用简单的拍卖机制，由用户出价 ("gasprices") ，矿工选择出价最高的交易，被打包进区块的交易支付其指定的出价。 这导致效率低下的几个主要原因：')]),s._v(" "),a("ul",[a("li",[a("strong",[s._v("交易费用水平的波动和交易的社会成本之间不匹配")]),s._v(": 成熟的公链比较繁忙，因此区块都是满的，交易的出价往往极不稳定。 荒谬的是，当gas为10 nanoeth时，网络多打包1个交易到区块的开销，是gas为1 nanoeth时的10倍。在这两种情况下，实际只是800万gas和802百万gas的区别。")]),s._v(" "),a("li",[a("strong",[s._v("造成用户不必要的延迟等待")]),s._v(": 因为每个区块的gas上限的限制和交易量的自然波动，这会导致交易经常需要等待几个区块才能被打包，社会效率低下。现在没有一个机制能够让区块的大小可以动态变化，以满足每个区块需求差异。")]),s._v(" "),a("li",[a("strong",[s._v("第一次拍卖的效率低下")]),s._v(": 当前处理方法中，用户按照最高费用出价，而矿工选择最高出价的交易，每个人出价他们的支付。 众所周知，这种机制设计非常低效，因此需要复杂的费用估算算法。 但即使有这些算法，也不太可能准确估算，导致经常多付费用。")]),s._v(" "),a("li",[a("strong",[s._v("当区块奖励消失后，区块链会变得不稳定")]),s._v(': 从长远来看，区块奖励会消失 (包括比特币和Zcash)，目前打算切换到完全通过交易费奖励矿工。 然而，这方面存在一些已知问题，可能会导致许多不稳定，鼓励矿工开采"姐妹区块"以偷窃交易费用，开启更强的自私挖矿攻击向量，等等。 目前没有很好的缓解措施。')])]),s._v(" "),a("p",[s._v("本EIP中建议引入基础费用的概念，它的数额由协议根据网络的拥堵程度进行调整。 当网络超过每个区块gas的目标使用量时，基础费用稍有增加；反之，略有下降。 因为这些基础费用的变化受到限制，所以区块和区块之间基础费用的最大差额是可以预测的。 这使钱包能够以非常可靠的方式自动为用户设置gas费用。 预计大多数用户不必手工调整gas费用，即使在网络活动频繁的时期也是如此。 对大多数用户来说，基础费用将由他们的钱包估算，另外1小笔用于补偿矿工的小费(例如1 nanoeth)将被自动设置。 用户也可以手工设置交易最高费用来约束其总成本。")]),s._v(" "),a("p",[s._v("这种收费制度的一个重要方面是，矿工只能收取小费。 基础费用总是被销毁 (即被协议摧毁)。 这确保了只有ETH才能用于支付以太坊上的交易费用，巩固了ETH在以太坊平台里的经济价值，并降低了矿工可提取价值 (MEV) 相关的风险。 此外，这种销毁机制还在抵消了以太坊的通货膨胀，同时仍然向矿工提供区块奖励和小费。 最后，确保矿工不会收到基础费用很重要，因为它会消除矿工为了从用户那里提取更多费用而操纵费用的动机。")]),s._v(" "),a("h2",{attrs:{id:"规范"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#规范"}},[s._v("#")]),s._v(" 规范")]),s._v(" "),a("p",[s._v("区块有效性在下面的参考实现中定义。 在以下参考实现的定义中， "),a("code",[s._v("GASPRICE")]),s._v(" ("),a("code",[s._v("0x3a")]),s._v(") "),a("strong",[s._v("必须")]),s._v("返回"),a("code",[s._v("effective_gas_price")]),s._v(" 。")]),s._v(" "),a("p",[s._v("从"),a("code",[s._v("FORK_BLOCK_NUMBER")]),s._v("，一个"),a("code",[s._v("TransactionType")]),s._v(" 为2的新"),a("RouterLink",{attrs:{to:"/zh/eip-2718.html"}},[s._v("EIP-2718")]),s._v("交易类型被引入。")],1),s._v(" "),a("p",[s._v("新交易的内在成本从"),a("RouterLink",{attrs:{to:"/zh/eip-2930.html"}},[s._v("EIP-2930")]),s._v("继承, 具体是"),a("code",[s._v("21000 + 16 * non-zero calldata bytes + 4 * zero calldata bytes + 1900 * access list storage key count + 2400 * access list address count")]),s._v("。")],1),s._v(" "),a("p",[a("RouterLink",{attrs:{to:"/zh/eip-2718.html"}},[s._v("EIP-2718")]),s._v("中这个交易的 "),a("code",[s._v("TransactionPayload")]),s._v(" 是"),a("code",[s._v("rlp([chain_id, nonce, max_priority_fee_per_gas, max_fee_per_gas, gas_limit, destination, amount, data, access_list, signature_y_parity, signature_r, signature_s])")]),s._v("。")],1),s._v(" "),a("p",[s._v("这个交易的元素 "),a("code",[s._v("signature_y_parity, signature_r, signature_s")]),s._v("代表了一个secp256k1 签名"),a("code",[s._v("keccak256(0x02 || rlp([chain_id, nonce, max_priority_fee_per_gas, max_fee_per_gas, gas_limit, destination, amount, data, access_list]))")]),s._v("。")]),s._v(" "),a("p",[a("RouterLink",{attrs:{to:"/zh/eip-2718.html"}},[s._v("EIP-2718")]),s._v(" 中这个交易的  "),a("code",[s._v("ReceiptPayload")]),s._v("  是 "),a("code",[s._v("rlp([status, cumulative_transaction_gas_used, logs_bloom, logs])")]),s._v("。")],1),s._v(" "),a("p",[a("em",[s._v("注: "),a("code",[s._v("//")]),s._v("是整数除法, 向下取整")])]),s._v(" "),a("div",{staticClass:"language-python line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" typing "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" Union"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" Dict"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" Sequence"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" List"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" Tuple"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" Literal\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" dataclasses "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" dataclass"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" field\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" abc "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" ABC"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" abstractmethod\n\n"),a("span",{pre:!0,attrs:{class:"token decorator annotation punctuation"}},[s._v("@dataclass")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("TransactionLegacy")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    signer_nonce"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("int")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n    gas_price"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("int")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n    gas_limit"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("int")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n    destination"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("int")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n    amount"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("int")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n    payload"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("bytes")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("bytes")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    v"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("int")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n    r"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("int")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n    s"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("int")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token decorator annotation punctuation"}},[s._v("@dataclass")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Transaction2930Payload")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    chain_id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("int")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n    signer_nonce"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("int")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n    gas_price"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("int")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n    gas_limit"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("int")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n    destination"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("int")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n    amount"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("int")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n    payload"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("bytes")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("bytes")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    access_list"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" List"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("Tuple"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("int")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" List"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("int")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" field"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("default_factory"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("list")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    signature_y_parity"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("bool")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("False")]),s._v("\n    signature_r"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("int")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n    signature_s"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("int")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token decorator annotation punctuation"}},[s._v("@dataclass")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Transaction2930Envelope")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("type")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" Literal"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n    payload"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" Transaction2930Payload "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" Transaction2930Payload"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token decorator annotation punctuation"}},[s._v("@dataclass")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Transaction1559Payload")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    chain_id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("int")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n    signer_nonce"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("int")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n    max_priority_fee_per_gas"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("int")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n    max_fee_per_gas"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("int")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n    gas_limit"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("int")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n    destination"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("int")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n    amount"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("int")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n    payload"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("bytes")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("bytes")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    access_list"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" List"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("Tuple"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("int")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" List"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("int")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" field"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("default_factory"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("list")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    signature_y_parity"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("bool")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("False")]),s._v("\n    signature_r"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("int")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n    signature_s"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("int")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token decorator annotation punctuation"}},[s._v("@dataclass")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Transaction1559Envelope")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("type")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" Literal"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("\n    payload"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" Transaction1559Payload "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" Transaction1559Payload"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\nTransaction2718 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" Union"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("Transaction1559Envelope"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" Transaction2930Envelope"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n\nTransaction "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" Union"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("TransactionLegacy"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" Transaction2718"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token decorator annotation punctuation"}},[s._v("@dataclass")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("NormalizedTransaction")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    signer_address"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("int")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n    signer_nonce"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("int")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n    max_priority_fee_per_gas"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("int")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n    max_fee_per_gas"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("int")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n    gas_limit"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("int")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n    destination"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("int")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n    amount"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("int")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n    payload"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("bytes")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("bytes")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    access_list"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" List"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("Tuple"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("int")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" List"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("int")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" field"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("default_factory"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("list")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token decorator annotation punctuation"}},[s._v("@dataclass")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Block")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    parent_hash"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("int")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n    uncle_hashes"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" Sequence"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("int")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" field"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("default_factory"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("list")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    author"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("int")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n    state_root"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("int")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n    transaction_root"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("int")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n    transaction_receipt_root"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("int")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n    logs_bloom"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("int")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n    difficulty"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("int")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n    number"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("int")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n    gas_limit"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("int")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# note the gas_limit is the gas_target * ELASTICITY_MULTIPLIER")]),s._v("\n    gas_used"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("int")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n    timestamp"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("int")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n    extra_data"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("bytes")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("bytes")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    proof_of_work"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("int")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n    nonce"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("int")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n    base_fee_per_gas"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("int")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token decorator annotation punctuation"}},[s._v("@dataclass")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Account")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    address"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("int")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n    nonce"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("int")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n    balance"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("int")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n    storage_root"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("int")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n    code_hash"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("int")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n\nINITIAL_BASE_FEE "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1000000000")]),s._v("\nINITIAL_FORK_BLOCK_NUMBER "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# TBD")]),s._v("\nBASE_FEE_MAX_CHANGE_DENOMINATOR "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),s._v("\nELASTICITY_MULTIPLIER "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("World")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("ABC"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("def")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("validate_block")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("self"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" block"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" Block"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("None")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n        parent_gas_target "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" self"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("parent"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("block"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("gas_limit "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("//")]),s._v(" ELASTICITY_MULTIPLIER\n        parent_gas_limit "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" self"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("parent"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("block"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("gas_limit\n\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# on the fork block, don't account for the ELASTICITY_MULTIPLIER to avoid")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# unduly halving the gas target.")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" INITIAL_FORK_BLOCK_NUMBER "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),s._v(" block"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("number"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n            parent_gas_target "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" self"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("parent"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("block"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("gas_limit\n            parent_gas_limit "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" self"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("parent"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("block"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("gas_limit "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" ELASTICITY_MULTIPLIER \n\n        parent_base_fee_per_gas "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" self"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("parent"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("block"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("base_fee_per_gas\n        parent_gas_used "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" self"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("parent"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("block"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("gas_used\n        transactions "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" self"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("transactions"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("block"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# check if the block used too much gas")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("assert")]),s._v(" block"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("gas_used "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<=")]),s._v(" block"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("gas_limit"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'invalid block: too much gas used'")]),s._v("\n\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# check if the block changed the gas limit too much")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("assert")]),s._v(" block"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("gas_limit "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v(" parent_gas_limit "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" parent_gas_limit "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("//")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1024")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'invalid block: gas limit increased too much'")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("assert")]),s._v(" block"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("gas_limit "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" parent_gas_limit "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" parent_gas_limit "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("//")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1024")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'invalid block: gas limit decreased too much'")]),s._v("\n\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# check if the gas limit is at least the minimum gas limit")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("assert")]),s._v(" block"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("gas_limit "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("5000")]),s._v("\n\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# check if the base fee is correct")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" INITIAL_FORK_BLOCK_NUMBER "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),s._v(" block"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("number"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n            expected_base_fee_per_gas "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" INITIAL_BASE_FEE\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("elif")]),s._v(" parent_gas_used "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),s._v(" parent_gas_target"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n            expected_base_fee_per_gas "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" parent_base_fee_per_gas\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("elif")]),s._v(" parent_gas_used "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" parent_gas_target"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n            gas_used_delta "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" parent_gas_used "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" parent_gas_target\n            base_fee_per_gas_delta "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("max")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("parent_base_fee_per_gas "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" gas_used_delta "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("//")]),s._v(" parent_gas_target "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("//")]),s._v(" BASE_FEE_MAX_CHANGE_DENOMINATOR"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n            expected_base_fee_per_gas "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" parent_base_fee_per_gas "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" base_fee_per_gas_delta\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("else")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n            gas_used_delta "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" parent_gas_target "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" parent_gas_used\n            base_fee_per_gas_delta "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" parent_base_fee_per_gas "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" gas_used_delta "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("//")]),s._v(" parent_gas_target "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("//")]),s._v(" BASE_FEE_MAX_CHANGE_DENOMINATOR\n            expected_base_fee_per_gas "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" parent_base_fee_per_gas "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" base_fee_per_gas_delta\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("assert")]),s._v(" expected_base_fee_per_gas "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),s._v(" block"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("base_fee_per_gas"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'invalid block: base fee not correct'")]),s._v("\n\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# execute transactions and do gas accounting")]),s._v("\n        cumulative_transaction_gas_used "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" unnormalized_transaction "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" transactions"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Note: this validates transaction signature and chain ID which must happen before we normalize below since normalized transactions don't include signature or chain ID")]),s._v("\n            signer_address "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" self"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("validate_and_recover_signer_address"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("unnormalized_transaction"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n            transaction "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" self"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("normalize_transaction"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("unnormalized_transaction"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" signer_address"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n            signer "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" self"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("account"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("signer_address"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n            signer"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("balance "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-=")]),s._v(" transaction"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("amount\n            "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("assert")]),s._v(" signer"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("balance "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'invalid transaction: signer does not have enough ETH to cover attached value'")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# the signer must be able to afford the transaction")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("assert")]),s._v(" signer"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("balance "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">=")]),s._v(" transaction"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("gas_limit "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" transaction"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("max_fee_per_gas\n\n            "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ensure that the user was willing to at least pay the base fee")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("assert")]),s._v(" transaction"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("max_fee_per_gas "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">=")]),s._v(" block"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("base_fee_per_gas\n\n            "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Prevent impossibly large numbers")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("assert")]),s._v(" transaction"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("max_fee_per_gas "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("**")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("256")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Prevent impossibly large numbers")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("assert")]),s._v(" transaction"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("max_priority_fee_per_gas "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("**")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("256")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# The total must be the larger of the two")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("assert")]),s._v(" transaction"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("max_fee_per_gas "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">=")]),s._v(" transaction"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("max_priority_fee_per_gas\n\n            "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# priority fee is capped because the base fee is filled first")]),s._v("\n            priority_fee_per_gas "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("min")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("transaction"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("max_priority_fee_per_gas"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" transaction"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("max_fee_per_gas "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" block"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("base_fee_per_gas"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# signer pays both the priority fee and the base fee")]),s._v("\n            effective_gas_price "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" priority_fee_per_gas "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" block"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("base_fee_per_gas\n            signer"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("balance "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-=")]),s._v(" transaction"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("gas_limit "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" effective_gas_price\n            "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("assert")]),s._v(" signer"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("balance "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'invalid transaction: signer does not have enough ETH to cover gas'")]),s._v("\n            gas_used "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" self"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("execute_transaction"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("transaction"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" effective_gas_price"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n            gas_refund "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" transaction"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("gas_limit "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" gas_used\n            cumulative_transaction_gas_used "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+=")]),s._v(" gas_used\n            "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# signer gets refunded for unused gas")]),s._v("\n            signer"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("balance "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+=")]),s._v(" gas_refund "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" effective_gas_price\n            "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# miner only receives the priority fee; note that the base fee is not given to anyone (it is burned)")]),s._v("\n            self"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("account"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("block"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("author"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("balance "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+=")]),s._v(" gas_used "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" priority_fee_per_gas\n\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# check if the block spent too much gas transactions")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("assert")]),s._v(" cumulative_transaction_gas_used "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),s._v(" block"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("gas_used"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'invalid block: gas_used does not equal total gas used in all transactions'")]),s._v("\n\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# TODO: verify account balances match block's account balances (via state root comparison)")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# TODO: validate the rest of the block")]),s._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("def")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("normalize_transaction")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("self"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" transaction"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" Transaction"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" signer_address"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("int")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" NormalizedTransaction"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# legacy transactions")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("isinstance")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("transaction"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" TransactionLegacy"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" NormalizedTransaction"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n                signer_address "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" signer_address"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n                signer_nonce "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" transaction"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("signer_nonce"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n                gas_limit "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" transaction"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("gas_limit"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n                max_priority_fee_per_gas "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" transaction"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("gas_price"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n                max_fee_per_gas "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" transaction"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("gas_price"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n                destination "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" transaction"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("destination"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n                amount "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" transaction"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("amount"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n                payload "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" transaction"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("payload"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n                access_list "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 2930 transactions")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("elif")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("isinstance")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("transaction"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" Transaction2930Envelope"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" NormalizedTransaction"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n                signer_address "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" signer_address"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n                signer_nonce "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" transaction"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("payload"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("signer_nonce"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n                gas_limit "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" transaction"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("payload"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("gas_limit"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n                max_priority_fee_per_gas "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" transaction"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("payload"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("gas_price"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n                max_fee_per_gas "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" transaction"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("payload"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("gas_price"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n                destination "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" transaction"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("payload"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("destination"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n                amount "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" transaction"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("payload"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("amount"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n                payload "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" transaction"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("payload"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("payload"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n                access_list "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" transaction"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("payload"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("access_list"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 1559 transactions")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("elif")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("isinstance")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("transaction"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" Transaction1559Envelope"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" NormalizedTransaction"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n                signer_address "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" signer_address"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n                signer_nonce "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" transaction"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("payload"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("signer_nonce"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n                gas_limit "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" transaction"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("payload"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("gas_limit"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n                max_priority_fee_per_gas "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" transaction"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("payload"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("max_priority_fee_per_gas"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n                max_fee_per_gas "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" transaction"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("payload"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("max_fee_per_gas"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n                destination "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" transaction"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("payload"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("destination"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n                amount "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" transaction"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("payload"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("amount"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n                payload "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" transaction"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("payload"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("payload"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n                access_list "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" transaction"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("payload"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("access_list"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("else")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("raise")]),s._v(" Exception"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'invalid transaction: unexpected number of items'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token decorator annotation punctuation"}},[s._v("@abstractmethod")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("def")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("parent")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("self"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" block"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" Block"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" Block"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("pass")]),s._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token decorator annotation punctuation"}},[s._v("@abstractmethod")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("def")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("block_hash")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("self"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" block"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" Block"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("int")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("pass")]),s._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token decorator annotation punctuation"}},[s._v("@abstractmethod")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("def")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("transactions")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("self"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" block"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" Block"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" Sequence"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("Transaction"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("pass")]),s._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# effective_gas_price is the value returned by the GASPRICE (0x3a) opcode")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token decorator annotation punctuation"}},[s._v("@abstractmethod")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("def")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("execute_transaction")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("self"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" transaction"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" NormalizedTransaction"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" effective_gas_price"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("int")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("int")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("pass")]),s._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token decorator annotation punctuation"}},[s._v("@abstractmethod")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("def")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("validate_and_recover_signer_address")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("self"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" transaction"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" Transaction"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("int")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("pass")]),s._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token decorator annotation punctuation"}},[s._v("@abstractmethod")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("def")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("account")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("self"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" address"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("int")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" Account"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("pass")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br"),a("span",{staticClass:"line-number"},[s._v("32")]),a("br"),a("span",{staticClass:"line-number"},[s._v("33")]),a("br"),a("span",{staticClass:"line-number"},[s._v("34")]),a("br"),a("span",{staticClass:"line-number"},[s._v("35")]),a("br"),a("span",{staticClass:"line-number"},[s._v("36")]),a("br"),a("span",{staticClass:"line-number"},[s._v("37")]),a("br"),a("span",{staticClass:"line-number"},[s._v("38")]),a("br"),a("span",{staticClass:"line-number"},[s._v("39")]),a("br"),a("span",{staticClass:"line-number"},[s._v("40")]),a("br"),a("span",{staticClass:"line-number"},[s._v("41")]),a("br"),a("span",{staticClass:"line-number"},[s._v("42")]),a("br"),a("span",{staticClass:"line-number"},[s._v("43")]),a("br"),a("span",{staticClass:"line-number"},[s._v("44")]),a("br"),a("span",{staticClass:"line-number"},[s._v("45")]),a("br"),a("span",{staticClass:"line-number"},[s._v("46")]),a("br"),a("span",{staticClass:"line-number"},[s._v("47")]),a("br"),a("span",{staticClass:"line-number"},[s._v("48")]),a("br"),a("span",{staticClass:"line-number"},[s._v("49")]),a("br"),a("span",{staticClass:"line-number"},[s._v("50")]),a("br"),a("span",{staticClass:"line-number"},[s._v("51")]),a("br"),a("span",{staticClass:"line-number"},[s._v("52")]),a("br"),a("span",{staticClass:"line-number"},[s._v("53")]),a("br"),a("span",{staticClass:"line-number"},[s._v("54")]),a("br"),a("span",{staticClass:"line-number"},[s._v("55")]),a("br"),a("span",{staticClass:"line-number"},[s._v("56")]),a("br"),a("span",{staticClass:"line-number"},[s._v("57")]),a("br"),a("span",{staticClass:"line-number"},[s._v("58")]),a("br"),a("span",{staticClass:"line-number"},[s._v("59")]),a("br"),a("span",{staticClass:"line-number"},[s._v("60")]),a("br"),a("span",{staticClass:"line-number"},[s._v("61")]),a("br"),a("span",{staticClass:"line-number"},[s._v("62")]),a("br"),a("span",{staticClass:"line-number"},[s._v("63")]),a("br"),a("span",{staticClass:"line-number"},[s._v("64")]),a("br"),a("span",{staticClass:"line-number"},[s._v("65")]),a("br"),a("span",{staticClass:"line-number"},[s._v("66")]),a("br"),a("span",{staticClass:"line-number"},[s._v("67")]),a("br"),a("span",{staticClass:"line-number"},[s._v("68")]),a("br"),a("span",{staticClass:"line-number"},[s._v("69")]),a("br"),a("span",{staticClass:"line-number"},[s._v("70")]),a("br"),a("span",{staticClass:"line-number"},[s._v("71")]),a("br"),a("span",{staticClass:"line-number"},[s._v("72")]),a("br"),a("span",{staticClass:"line-number"},[s._v("73")]),a("br"),a("span",{staticClass:"line-number"},[s._v("74")]),a("br"),a("span",{staticClass:"line-number"},[s._v("75")]),a("br"),a("span",{staticClass:"line-number"},[s._v("76")]),a("br"),a("span",{staticClass:"line-number"},[s._v("77")]),a("br"),a("span",{staticClass:"line-number"},[s._v("78")]),a("br"),a("span",{staticClass:"line-number"},[s._v("79")]),a("br"),a("span",{staticClass:"line-number"},[s._v("80")]),a("br"),a("span",{staticClass:"line-number"},[s._v("81")]),a("br"),a("span",{staticClass:"line-number"},[s._v("82")]),a("br"),a("span",{staticClass:"line-number"},[s._v("83")]),a("br"),a("span",{staticClass:"line-number"},[s._v("84")]),a("br"),a("span",{staticClass:"line-number"},[s._v("85")]),a("br"),a("span",{staticClass:"line-number"},[s._v("86")]),a("br"),a("span",{staticClass:"line-number"},[s._v("87")]),a("br"),a("span",{staticClass:"line-number"},[s._v("88")]),a("br"),a("span",{staticClass:"line-number"},[s._v("89")]),a("br"),a("span",{staticClass:"line-number"},[s._v("90")]),a("br"),a("span",{staticClass:"line-number"},[s._v("91")]),a("br"),a("span",{staticClass:"line-number"},[s._v("92")]),a("br"),a("span",{staticClass:"line-number"},[s._v("93")]),a("br"),a("span",{staticClass:"line-number"},[s._v("94")]),a("br"),a("span",{staticClass:"line-number"},[s._v("95")]),a("br"),a("span",{staticClass:"line-number"},[s._v("96")]),a("br"),a("span",{staticClass:"line-number"},[s._v("97")]),a("br"),a("span",{staticClass:"line-number"},[s._v("98")]),a("br"),a("span",{staticClass:"line-number"},[s._v("99")]),a("br"),a("span",{staticClass:"line-number"},[s._v("100")]),a("br"),a("span",{staticClass:"line-number"},[s._v("101")]),a("br"),a("span",{staticClass:"line-number"},[s._v("102")]),a("br"),a("span",{staticClass:"line-number"},[s._v("103")]),a("br"),a("span",{staticClass:"line-number"},[s._v("104")]),a("br"),a("span",{staticClass:"line-number"},[s._v("105")]),a("br"),a("span",{staticClass:"line-number"},[s._v("106")]),a("br"),a("span",{staticClass:"line-number"},[s._v("107")]),a("br"),a("span",{staticClass:"line-number"},[s._v("108")]),a("br"),a("span",{staticClass:"line-number"},[s._v("109")]),a("br"),a("span",{staticClass:"line-number"},[s._v("110")]),a("br"),a("span",{staticClass:"line-number"},[s._v("111")]),a("br"),a("span",{staticClass:"line-number"},[s._v("112")]),a("br"),a("span",{staticClass:"line-number"},[s._v("113")]),a("br"),a("span",{staticClass:"line-number"},[s._v("114")]),a("br"),a("span",{staticClass:"line-number"},[s._v("115")]),a("br"),a("span",{staticClass:"line-number"},[s._v("116")]),a("br"),a("span",{staticClass:"line-number"},[s._v("117")]),a("br"),a("span",{staticClass:"line-number"},[s._v("118")]),a("br"),a("span",{staticClass:"line-number"},[s._v("119")]),a("br"),a("span",{staticClass:"line-number"},[s._v("120")]),a("br"),a("span",{staticClass:"line-number"},[s._v("121")]),a("br"),a("span",{staticClass:"line-number"},[s._v("122")]),a("br"),a("span",{staticClass:"line-number"},[s._v("123")]),a("br"),a("span",{staticClass:"line-number"},[s._v("124")]),a("br"),a("span",{staticClass:"line-number"},[s._v("125")]),a("br"),a("span",{staticClass:"line-number"},[s._v("126")]),a("br"),a("span",{staticClass:"line-number"},[s._v("127")]),a("br"),a("span",{staticClass:"line-number"},[s._v("128")]),a("br"),a("span",{staticClass:"line-number"},[s._v("129")]),a("br"),a("span",{staticClass:"line-number"},[s._v("130")]),a("br"),a("span",{staticClass:"line-number"},[s._v("131")]),a("br"),a("span",{staticClass:"line-number"},[s._v("132")]),a("br"),a("span",{staticClass:"line-number"},[s._v("133")]),a("br"),a("span",{staticClass:"line-number"},[s._v("134")]),a("br"),a("span",{staticClass:"line-number"},[s._v("135")]),a("br"),a("span",{staticClass:"line-number"},[s._v("136")]),a("br"),a("span",{staticClass:"line-number"},[s._v("137")]),a("br"),a("span",{staticClass:"line-number"},[s._v("138")]),a("br"),a("span",{staticClass:"line-number"},[s._v("139")]),a("br"),a("span",{staticClass:"line-number"},[s._v("140")]),a("br"),a("span",{staticClass:"line-number"},[s._v("141")]),a("br"),a("span",{staticClass:"line-number"},[s._v("142")]),a("br"),a("span",{staticClass:"line-number"},[s._v("143")]),a("br"),a("span",{staticClass:"line-number"},[s._v("144")]),a("br"),a("span",{staticClass:"line-number"},[s._v("145")]),a("br"),a("span",{staticClass:"line-number"},[s._v("146")]),a("br"),a("span",{staticClass:"line-number"},[s._v("147")]),a("br"),a("span",{staticClass:"line-number"},[s._v("148")]),a("br"),a("span",{staticClass:"line-number"},[s._v("149")]),a("br"),a("span",{staticClass:"line-number"},[s._v("150")]),a("br"),a("span",{staticClass:"line-number"},[s._v("151")]),a("br"),a("span",{staticClass:"line-number"},[s._v("152")]),a("br"),a("span",{staticClass:"line-number"},[s._v("153")]),a("br"),a("span",{staticClass:"line-number"},[s._v("154")]),a("br"),a("span",{staticClass:"line-number"},[s._v("155")]),a("br"),a("span",{staticClass:"line-number"},[s._v("156")]),a("br"),a("span",{staticClass:"line-number"},[s._v("157")]),a("br"),a("span",{staticClass:"line-number"},[s._v("158")]),a("br"),a("span",{staticClass:"line-number"},[s._v("159")]),a("br"),a("span",{staticClass:"line-number"},[s._v("160")]),a("br"),a("span",{staticClass:"line-number"},[s._v("161")]),a("br"),a("span",{staticClass:"line-number"},[s._v("162")]),a("br"),a("span",{staticClass:"line-number"},[s._v("163")]),a("br"),a("span",{staticClass:"line-number"},[s._v("164")]),a("br"),a("span",{staticClass:"line-number"},[s._v("165")]),a("br"),a("span",{staticClass:"line-number"},[s._v("166")]),a("br"),a("span",{staticClass:"line-number"},[s._v("167")]),a("br"),a("span",{staticClass:"line-number"},[s._v("168")]),a("br"),a("span",{staticClass:"line-number"},[s._v("169")]),a("br"),a("span",{staticClass:"line-number"},[s._v("170")]),a("br"),a("span",{staticClass:"line-number"},[s._v("171")]),a("br"),a("span",{staticClass:"line-number"},[s._v("172")]),a("br"),a("span",{staticClass:"line-number"},[s._v("173")]),a("br"),a("span",{staticClass:"line-number"},[s._v("174")]),a("br"),a("span",{staticClass:"line-number"},[s._v("175")]),a("br"),a("span",{staticClass:"line-number"},[s._v("176")]),a("br"),a("span",{staticClass:"line-number"},[s._v("177")]),a("br"),a("span",{staticClass:"line-number"},[s._v("178")]),a("br"),a("span",{staticClass:"line-number"},[s._v("179")]),a("br"),a("span",{staticClass:"line-number"},[s._v("180")]),a("br"),a("span",{staticClass:"line-number"},[s._v("181")]),a("br"),a("span",{staticClass:"line-number"},[s._v("182")]),a("br"),a("span",{staticClass:"line-number"},[s._v("183")]),a("br"),a("span",{staticClass:"line-number"},[s._v("184")]),a("br"),a("span",{staticClass:"line-number"},[s._v("185")]),a("br"),a("span",{staticClass:"line-number"},[s._v("186")]),a("br"),a("span",{staticClass:"line-number"},[s._v("187")]),a("br"),a("span",{staticClass:"line-number"},[s._v("188")]),a("br"),a("span",{staticClass:"line-number"},[s._v("189")]),a("br"),a("span",{staticClass:"line-number"},[s._v("190")]),a("br"),a("span",{staticClass:"line-number"},[s._v("191")]),a("br"),a("span",{staticClass:"line-number"},[s._v("192")]),a("br"),a("span",{staticClass:"line-number"},[s._v("193")]),a("br"),a("span",{staticClass:"line-number"},[s._v("194")]),a("br"),a("span",{staticClass:"line-number"},[s._v("195")]),a("br"),a("span",{staticClass:"line-number"},[s._v("196")]),a("br"),a("span",{staticClass:"line-number"},[s._v("197")]),a("br"),a("span",{staticClass:"line-number"},[s._v("198")]),a("br"),a("span",{staticClass:"line-number"},[s._v("199")]),a("br"),a("span",{staticClass:"line-number"},[s._v("200")]),a("br"),a("span",{staticClass:"line-number"},[s._v("201")]),a("br"),a("span",{staticClass:"line-number"},[s._v("202")]),a("br"),a("span",{staticClass:"line-number"},[s._v("203")]),a("br"),a("span",{staticClass:"line-number"},[s._v("204")]),a("br"),a("span",{staticClass:"line-number"},[s._v("205")]),a("br"),a("span",{staticClass:"line-number"},[s._v("206")]),a("br"),a("span",{staticClass:"line-number"},[s._v("207")]),a("br"),a("span",{staticClass:"line-number"},[s._v("208")]),a("br"),a("span",{staticClass:"line-number"},[s._v("209")]),a("br"),a("span",{staticClass:"line-number"},[s._v("210")]),a("br"),a("span",{staticClass:"line-number"},[s._v("211")]),a("br"),a("span",{staticClass:"line-number"},[s._v("212")]),a("br"),a("span",{staticClass:"line-number"},[s._v("213")]),a("br"),a("span",{staticClass:"line-number"},[s._v("214")]),a("br"),a("span",{staticClass:"line-number"},[s._v("215")]),a("br"),a("span",{staticClass:"line-number"},[s._v("216")]),a("br"),a("span",{staticClass:"line-number"},[s._v("217")]),a("br"),a("span",{staticClass:"line-number"},[s._v("218")]),a("br"),a("span",{staticClass:"line-number"},[s._v("219")]),a("br"),a("span",{staticClass:"line-number"},[s._v("220")]),a("br"),a("span",{staticClass:"line-number"},[s._v("221")]),a("br"),a("span",{staticClass:"line-number"},[s._v("222")]),a("br"),a("span",{staticClass:"line-number"},[s._v("223")]),a("br"),a("span",{staticClass:"line-number"},[s._v("224")]),a("br"),a("span",{staticClass:"line-number"},[s._v("225")]),a("br"),a("span",{staticClass:"line-number"},[s._v("226")]),a("br"),a("span",{staticClass:"line-number"},[s._v("227")]),a("br"),a("span",{staticClass:"line-number"},[s._v("228")]),a("br"),a("span",{staticClass:"line-number"},[s._v("229")]),a("br"),a("span",{staticClass:"line-number"},[s._v("230")]),a("br"),a("span",{staticClass:"line-number"},[s._v("231")]),a("br"),a("span",{staticClass:"line-number"},[s._v("232")]),a("br"),a("span",{staticClass:"line-number"},[s._v("233")]),a("br"),a("span",{staticClass:"line-number"},[s._v("234")]),a("br"),a("span",{staticClass:"line-number"},[s._v("235")]),a("br"),a("span",{staticClass:"line-number"},[s._v("236")]),a("br"),a("span",{staticClass:"line-number"},[s._v("237")]),a("br"),a("span",{staticClass:"line-number"},[s._v("238")]),a("br"),a("span",{staticClass:"line-number"},[s._v("239")]),a("br"),a("span",{staticClass:"line-number"},[s._v("240")]),a("br"),a("span",{staticClass:"line-number"},[s._v("241")]),a("br"),a("span",{staticClass:"line-number"},[s._v("242")]),a("br"),a("span",{staticClass:"line-number"},[s._v("243")]),a("br"),a("span",{staticClass:"line-number"},[s._v("244")]),a("br"),a("span",{staticClass:"line-number"},[s._v("245")]),a("br"),a("span",{staticClass:"line-number"},[s._v("246")]),a("br"),a("span",{staticClass:"line-number"},[s._v("247")]),a("br"),a("span",{staticClass:"line-number"},[s._v("248")]),a("br")])]),a("h2",{attrs:{id:"向后兼容"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#向后兼容"}},[s._v("#")]),s._v(" 向后兼容")]),s._v(" "),a("p",[s._v("旧的以太坊交易仍然可以工作，并被打包在区块中，但是它们不会直接从新的定价制度中受益。  这是因为升级后，原有交易的 "),a("code",[s._v("gas_price")]),s._v("完全被 "),a("code",[s._v("base_fee_per_gas")]),s._v(" 和 "),a("code",[s._v("priority_fee_per_gas")]),s._v("消耗掉。")]),s._v(" "),a("h3",{attrs:{id:"区块哈希更改"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#区块哈希更改"}},[s._v("#")]),s._v(" 区块哈希更改")]),s._v(" "),a("p",[s._v("传递给keccak256用以计算区块哈希的数据结构正在变化，为了支持这种变化 (额外一项)，所有正在验证区块是否有效，或者使用区块哈希用来校验区块内容的应用程序都需要调整。  如果你只是对区块头字节进行哈希计算，你仍然应该得到正确的哈希值。但是你如果从其组成元素中构建一个区块头，你将需要在新的区块结尾添加。")]),s._v(" "),a("h3",{attrs:{id:"矿工费-gasprice"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#矿工费-gasprice"}},[s._v("#")]),s._v(" 矿工费（GASPRICE）")]),s._v(" "),a("p",[s._v("在此次更改之前，"),a("code",[s._v("GASPRICE")]),s._v(" 既代表了一个交易中用户用ETH支付的单位gas价格，也代表了矿工单位gas收到的ETH。  在此次更改中，"),a("code",[s._v("GASPRICE")]),s._v("只代表一个交易中用户用ETH支付的单位gas价格，矿工从交易中获取的ETH金额不再能够直接从EVM中获得。")]),s._v(" "),a("h2",{attrs:{id:"测试用例"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#测试用例"}},[s._v("#")]),s._v(" 测试用例")]),s._v(" "),a("p",[s._v("待完成")]),s._v(" "),a("h2",{attrs:{id:"安全事项"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#安全事项"}},[s._v("#")]),s._v(" 安全事项")]),s._v(" "),a("h3",{attrs:{id:"增加最大块的大小-复杂度"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#增加最大块的大小-复杂度"}},[s._v("#")]),s._v(" 增加最大块的大小/复杂度")]),s._v(" "),a("p",[s._v("本EIP将增加最大区块的大小，如果矿工无法以足够快的速度处理区块，可能会造成问题，因为这将迫使他们开采一个空块。  随着时间的推移，平均区块大小应保持与旧的方案大致相同，所以这种区块大小突变只是短期问题。  一个或多个客户端可能处理不好区块大小短暂突变 (例如内存溢出)，客户端实现应该确保其客户端能够适当处理最大尺寸的单个区块。")]),s._v(" "),a("h3",{attrs:{id:"交易排序"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#交易排序"}},[s._v("#")]),s._v(" 交易排序")]),s._v(" "),a("p",[s._v("大多数矿工竞争打包权时，基于基准费用而不是小费，因此交易排序现在取决于个别客户端的内部实现细节，例如他们如何在内存中存储交易。  建议对相同小费的交易，按照收到交易的时间排序，以保护网络免遭滥发攻击。所谓滥发攻击，就是攻击者往待处理池里丢入一堆交易，以确保至少有一个交易处于有利位置。  存粹从自私挖矿的角度来看，矿工仍然应该更多地进行gas溢价高的交易，而不是那些gas溢价低的交易。")]),s._v(" "),a("h3",{attrs:{id:"矿工开采空块"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#矿工开采空块"}},[s._v("#")]),s._v(" 矿工开采空块")]),s._v(" "),a("p",[s._v("矿工可能开采空区块，直到基础费用非常低，然后继续开采一半满区块，然后恢复按照小费对交易进行排序。  虽然这种攻击是可能的，但是只要挖矿保持去中心化，这种攻击就很难持续。  只要攻击继续进行(即使在基础费用达到0后)，这种策略的任何叛逃者都会比参与攻击的矿工更加有利可图。  因为任何矿工都可以匿名叛逃，而且无法证明具体是谁叛逃了，执行这种攻击的唯一可行方法是控制 50% 或更多的哈希算力。  如果攻击者恰好拥有 50% 的算力，他们将无法赚取小费，而叛逃者能赚取两倍的小费。  攻击者如果想获取利润，就需要拥有50%以上的算力，执行双花攻击，或者一种更加有利可图的策略是干脆忽略其他矿工。")]),s._v(" "),a("p",[s._v("如果矿工试图执行这种攻击，我们可以简单地增加ELASTICITY_MULTIPLIER参数(目前是2倍)，这就要求他们拥有更多的哈希算力，才能使攻击理论上比叛逃者更加有利可图。")]),s._v(" "),a("h3",{attrs:{id:"eth销毁不再保证固定供应"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#eth销毁不再保证固定供应"}},[s._v("#")]),s._v(" ETH销毁不再保证固定供应")]),s._v(" "),a("p",[s._v("通过销毁基础费用，ETH将不再保证固定供应。  这可能导致经济不稳定，因为长期的ETH供应将不再稳定。  虽然这是一个合理的担忧，但是很难量化其影响。  如果销毁的基础费用比挖矿奖励的产出多，那么ETH将通货紧缩；反之，ETH将通货膨胀。  由于我们无法控制用户对区块空间的需求，我们目前无法断言ETH最终会出现通货膨胀还是通货紧缩，所以这种变化会导致核心开发人员失去对ETH长期数量的某种控制。")]),s._v(" "),a("h2",{attrs:{id:"版权"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#版权"}},[s._v("#")]),s._v(" 版权")]),s._v(" "),a("p",[s._v("通过 "),a("a",{attrs:{href:"https://creativecommons.org/publicdomain/zero/1.0/",target:"_blank",rel:"noopener noreferrer"}},[s._v("CC0"),a("OutboundLink")],1),s._v(" 放弃版权和相关权利。")])])}),[],!1,null,null,null);t.default=e.exports}}]);